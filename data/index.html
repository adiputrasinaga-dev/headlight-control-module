<!DOCTYPE html>
<html lang="id" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <meta name="description" content="AERI LIGHT Production Release" />
    <meta name="theme-color" id="theme-color-meta" content="#E60023" />
    <title>AERI LIGHT</title>
    <link rel="stylesheet" href="style.css" />
    <script src="iro.min.js"></script>
  </head>
  <body>
    <div id="toast-container"></div>

    <div id="reset-modal" class="modal-backdrop" style="display: none">
      <div class="modal-content">
        <h3>Konfirmasi Reset Pabrik</h3>
        <p>
          Aksi ini tidak dapat dibatalkan. Semua pengaturan akan dihapus. Ketik
          "RESET" untuk mengonfirmasi.
        </p>
        <input
          type="text"
          id="reset-confirm-input"
          class="cyber-input"
          placeholder="Ketik RESET di sini..."
        />
        <div class="modal-actions">
          <button id="reset-cancel-btn" class="btn btn-secondary">Batal</button>
          <button id="reset-confirm-btn" class="btn btn-danger" disabled>
            Konfirmasi Reset
          </button>
        </div>
      </div>
    </div>
    <div id="color-picker-modal" class="modal-backdrop" style="display: none">
      <div class="modal-content modal-color-picker">
        <h3>Pilih Warna</h3>
        <div id="color-preview-swatch"></div>
        <div
          id="modalColorPickerContainer"
          class="color-picker-container"
        ></div>
        <div class="manual-color-inputs">
          <div class="rgb-input-group">
            <div class="control-group">
              <label for="redInput">R</label>
              <input
                type="number"
                id="redInput"
                min="0"
                max="255"
                class="cyber-input"
              />
            </div>
            <div class="control-group">
              <label for="greenInput">G</label>
              <input
                type="number"
                id="greenInput"
                min="0"
                max="255"
                class="cyber-input"
              />
            </div>
            <div class="control-group">
              <label for="blueInput">B</label>
              <input
                type="number"
                id="blueInput"
                min="0"
                max="255"
                class="cyber-input"
              />
            </div>
          </div>
          <div class="control-group">
            <label for="hexInput">HEX</label>
            <input
              type="text"
              id="hexInput"
              class="cyber-input"
              maxlength="7"
            />
          </div>
        </div>
        <div class="modal-actions">
          <button id="btnModalBatal" class="btn btn-secondary">Batal</button>
          <button id="btnModalSimpan" class="btn">Simpan</button>
        </div>
      </div>
    </div>

    <div id="effect-step-modal" class="modal-backdrop" style="display: none">
      <div class="modal-content">
        <h3>Atur Langkah Efek</h3>
        <div class="modal-body">
          <div class="control-group">
            <label for="modalEffectSelect">Pilih Efek</label>
            <select id="modalEffectSelect" class="cyber-input"></select>
          </div>
          <div class="control-group">
            <label for="modalSideSelect">Target Sisi</label>
            <select id="modalSideSelect" class="cyber-input">
              <option value="0">Keduanya</option>
              <option value="1">Kiri</option>
              <option value="2">Kanan</option>
            </select>
          </div>
          <div class="control-group">
            <label>Warna Efek</label>
            <div
              id="modal-color-slots-container"
              class="color-bar-container"
            ></div>
          </div>
          <div class="control-group">
            <label for="modalDurationInput">Durasi (milidetik)</label>
            <input
              type="number"
              id="modalDurationInput"
              class="cyber-input"
              value="500"
              min="50"
              step="50"
            />
          </div>
        </div>
        <div class="modal-actions">
          <button id="btnDeleteStep" class="btn btn-danger">Hapus</button>
          <button id="btnCancelStep" class="btn btn-secondary">Batal</button>
          <button id="btnSaveStep" class="btn">Simpan</button>
        </div>
      </div>
    </div>

    <header class="main-header">
      <button id="hamburger-btn" class="hamburger-btn">
        <span></span><span></span><span></span>
      </button>
      <h1>AERI LIGHT</h1>
      <div id="statusIndicator">
        <div id="statusIcon" class="disconnected"></div>
        <span id="statusText">Terputus</span>
      </div>
    </header>

    <main>
      <nav class="desktop-nav">
        <button data-tab="Kontrol" class="tab-btn active">KONTROL</button>
        <button data-tab="EditorWelcome" class="tab-btn">EDITOR WELCOME</button>
        <button data-tab="Pengaturan" class="tab-btn">PENGATURAN</button>
      </nav>
      <nav id="mobile-menu" class="mobile-menu">
        <button data-tab="Kontrol" class="mobile-nav-link active">
          KONTROL
        </button>
        <button data-tab="EditorWelcome" class="mobile-nav-link">
          EDITOR WELCOME
        </button>
        <button data-tab="Pengaturan" class="mobile-nav-link">
          PENGATURAN
        </button>
      </nav>

      <div id="tabKontrol" class="tab-content active">
        <section class="cyber-panel">
          <div class="panel-body">
            <div
              id="savingIndicator"
              class="saving-indicator"
              style="display: none"
            >
              Menyimpan...
            </div>
            <div class="master-control">
              <label for="masterPowerSwitch">MASTER POWER</label>
              <label class="switch large">
                <input type="checkbox" id="masterPowerSwitch" /><span
                  class="slider round"
                ></span>
              </label>
            </div>

            <div class="sync-toggle-container">
              <label for="syncSwitch">SINKRONKAN (ALIS, SHROUD, DEMON)</label>
              <label class="switch"
                ><input type="checkbox" id="syncSwitch" /><span
                  class="slider round"
                ></span
              ></label>
            </div>

            <div class="radio-group system-selector">
              <input
                type="radio"
                id="controlTargetAlis"
                name="controlTarget"
                value="alis"
                checked
              /><label for="controlTargetAlis">ALIS</label>
              <input
                type="radio"
                id="controlTargetShroud"
                name="controlTarget"
                value="shroud"
              /><label for="controlTargetShroud">SHROUD</label>
              <input
                type="radio"
                id="controlTargetDemon"
                name="controlTarget"
                value="demon"
              /><label for="controlTargetDemon">DEMON</label>
            </div>

            <div class="side-selector-container">
              <div class="radio-group side-selector">
                <input
                  type="radio"
                  id="sideTargetKiri"
                  name="sideTarget"
                  value="kiri"
                /><label for="sideTargetKiri">KIRI</label>
                <input
                  type="radio"
                  id="sideTargetKeduanya"
                  name="sideTarget"
                  value="keduanya"
                  checked
                /><label for="sideTargetKeduanya">KEDUANYA</label>
                <input
                  type="radio"
                  id="sideTargetKanan"
                  name="sideTarget"
                  value="kanan"
                /><label for="sideTargetKanan">KANAN</label>
              </div>
            </div>

            <div id="alis-controls-container"></div>
            <div id="shroud-controls-container" style="display: none"></div>
            <div id="demon-controls-container" style="display: none"></div>
          </div>
        </section>
      </div>

      <div id="tabEditorWelcome" class="tab-content">
        <section class="cyber-panel">
          <div class="panel-body">
            <div class="editor-header">
              <h3>Editor Sekuens Welcome Kustom</h3>
              <div
                id="customWelcomeTotalDuration"
                class="editor-total-duration"
              >
                Total Durasi: 0 ms
              </div>
            </div>
            <p>
              Buat animasi welcome unik Anda dengan menambahkan langkah-langkah
              efek. Klik [+] untuk memulai.
            </p>
            <div
              id="welcome-editor-container"
              class="welcome-editor-container"
            ></div>
            <div class="modal-actions">
              <button id="btnPreviewCustomWelcome" class="btn btn-secondary">
                Preview Sekuens
              </button>
              <button id="btnSaveCustomWelcome" class="btn">
                Simpan Sekuens
              </button>
            </div>
            <small
              >Catatan: Setelah disimpan, pilih "Efek Kustom" pada menu dropdown
              "PILIH ANIMASI" di tab Pengaturan untuk mengaktifkannya.</small
            >
          </div>
        </section>
      </div>

      <div id="tabPengaturan" class="tab-content">
        <details class="cyber-panel">
          <summary>
            PRESET PENGATURAN<span class="accordion-icon">›</span>
          </summary>
          <div class="panel-body">
            <div class="control-group">
              <label for="presetSlot">PILIH SLOT</label>
              <select id="presetSlot" class="cyber-input"></select>
            </div>
            <div id="preset-preview" class="preset-preview-container">
              <p>Pilih slot untuk melihat pratinjau...</p>
            </div>
            <div class="control-group">
              <label for="presetName">NAMA PROFIL</label>
              <input
                type="text"
                id="presetName"
                class="cyber-input"
                placeholder="Contoh: Mode Touring"
              />
            </div>
            <div class="modal-actions">
              <button id="btnLoadPreset" class="btn btn-secondary">
                Muat Profil
              </button>
              <button id="btnSavePreset" class="btn">Simpan Profil</button>
            </div>
          </div>
        </details>

        <details class="cyber-panel">
          <summary>
            PENGATURAN LAMPU SEIN<span class="accordion-icon">›</span>
          </summary>
          <div class="panel-body">
            <div id="sein-controls-container"></div>
          </div>
        </details>

        <details class="cyber-panel">
          <summary>
            PENGATURAN JUMLAH LED<span class="accordion-icon">›</span>
          </summary>
          <div class="panel-body">
            <small>Atur jumlah LED per sisi untuk setiap bagian lampu.</small>
            <div class="control-group">
              <label for="ledCountAlis">Jumlah LED Alis</label>
              <input
                type="number"
                id="ledCountAlis"
                min="0"
                max="250"
                class="cyber-input"
              />
            </div>
            <div class="control-group">
              <label for="ledCountShroud">Jumlah LED Shroud</label>
              <input
                type="number"
                id="ledCountShroud"
                min="0"
                max="250"
                class="cyber-input"
              />
            </div>
            <div class="control-group">
              <label for="ledCountDemon">Jumlah LED Demon</label>
              <input
                type="number"
                id="ledCountDemon"
                min="0"
                max="250"
                class="cyber-input"
              />
            </div>
            <div class="control-group">
              <label for="ledCountSein">Jumlah LED Sein</label>
              <input
                type="number"
                id="ledCountSein"
                min="0"
                max="250"
                class="cyber-input"
              />
            </div>
            <div class="modal-actions">
              <button id="btnSaveLedCounts" class="btn">Simpan Semua</button>
            </div>
          </div>
        </details>

        <details class="cyber-panel">
          <summary>
            WELCOME ANIMATION<span class="accordion-icon">›</span>
          </summary>
          <div class="panel-body">
            <div class="control-group">
              <label for="welcomeMode">PILIH ANIMASI</label>
              <select id="welcomeMode" class="cyber-input"></select>
            </div>
            <div id="welcomeDurationContainer" class="control-group">
              <label for="welcomeDuration">DURASI (detik)</label>
              <input
                type="number"
                id="welcomeDuration"
                min="1"
                max="60"
                class="cyber-input"
              />
            </div>
            <small
              id="customWelcomeDurationNote"
              class="info-note"
              style="display: none"
              >Durasi diatur di dalam Editor Welcome.</small
            >
            <div class="modal-actions">
              <button id="btnPreviewWelcome" class="btn btn-secondary">
                Preview
              </button>
              <button id="btnSaveWelcome" class="btn">Simpan</button>
            </div>
          </div>
        </details>

        <details class="cyber-panel">
          <summary>SISTEM<span class="accordion-icon">›</span></summary>
          <div class="panel-body">
            <p class="warning-text">
              Aksi reset pabrik akan mengembalikan semua pengaturan ke default.
            </p>
            <button id="btnReset" class="btn btn-danger">RESET PABRIK</button>
          </div>
        </details>
      </div>
    </main>
    <script src="app.js" defer></script>
  </body>
</html>
